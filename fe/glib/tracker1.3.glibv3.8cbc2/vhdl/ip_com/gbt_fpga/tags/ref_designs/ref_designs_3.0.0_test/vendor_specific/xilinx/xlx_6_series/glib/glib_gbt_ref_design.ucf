CONFIG PART = xc6vlx130tff1156-1;


###############################################################################################################################################
####                 ##########################################################################################################################
####  FLOORPLANNING  ##########################################################################################################################
####                 ##########################################################################################################################
###############################################################################################################################################

##############
## P BLOCKS ##
##############

## SFP QUAD AREA (CLOCK REGION X1Y0):
INST "rst" AREA_GROUP = "sfp_quad_area";
INST "cdce62005_sync" AREA_GROUP = "sfp_quad_area";
INST "patt_gen" AREA_GROUP = "sfp_quad_area";
INST "gbt_link_rst" AREA_GROUP = "sfp_quad_area";
INST "gbt_link_sfp" AREA_GROUP = "sfp_quad_area";
INST "err_det" AREA_GROUP = "sfp_quad_area";
INST "icon" AREA_GROUP = "sfp_quad_area";
INST "vio" AREA_GROUP = "sfp_quad_area";
INST "ila" AREA_GROUP = "sfp_quad_area";
AREA_GROUP "sfp_quad_area" RANGE=CLOCKREGION_X1Y0:CLOCKREGION_X1Y0;


###########
## RESET ##
########### 

# IO_L9N_MRCC_13
NET "FPGA_POWER_ON_RESET_B" LOC = AC30;

##################
## GLIB CONTROL ##
##################

## CROSS POINT SWITCH 1 CONTROL:
# IO_L1P_22
NET "XPOINT1_S11" LOC = AM18;
# IO_L5P_22
NET "XPOINT1_S10" LOC = AN19;

## CDCE62005 CONTROLAND STATUS:
# IO_L8P_SRCC_22
NET "CDCE_PWR_DOWN" LOC = AF19;
# IO_L18N_22
NET "CDCE_REF_SEL" LOC = AG21;
# IO_L1N_22
NET "CDCE_SYNC" LOC = AL18;
# IO_L0N_22
NET "CDCE_PLL_LOCK" LOC = AD21;


NET "FPGA_CLKOUT"	  							      LOC = AD30	;	# IO_L9P_MRCC_13




###############      
## FPGA LEDs ##     
###############

# IO_L18N_13
NET "V6_LED[1]" LOC = AF31;
# IO_L19P_13
NET "V6_LED[2]" LOC = AB25;
# IO_L19N_13
NET "V6_LED[3]" LOC = AC25;
######################
## REFERENCE CLOCKs ##
######################
## FABRIC CLOCK (40MHz):
NET "XPOINT1_CLK1_P"                   LOC = J9; # IO_L0P_GC_34
NET "XPOINT1_CLK1_N"                   LOC = H9; # IO_L0N_GC_34
## GTX CLOCK:
NET "CDCE_OUT0_P"                      LOC = AK6; # MGTREFCLK0P_112
NET "CDCE_OUT0_N"                      LOC = AK5; # MGTREFCLK0N_112
##############
## SFP GTXs ##
##############
## SERIAL LANES:
# MGTTXP0_112
NET "SFP_TX_P[1]" LOC = AP1;
# MGTTXN0_112
NET "SFP_TX_N[1]" LOC = AP2;
# MGTRXP0_112
NET "SFP_RX_P[1]" LOC = AP5;
# MGTRXN0_112
NET "SFP_RX_N[1]" LOC = AP6;
#NET "sfp_tx_p[2]"			   	   	LOC = AN3			;	# MGTTXP1_112
#NET "sfp_tx_n[2]"			   	   	LOC = AN4			;	# MGTTXN1_112
#NET "sfp_rx_p[2]"			   	   	LOC = AM5			;	# MGTRXP1_112
#NET "sfp_rx_n[2]"			   	   	LOC = AM6			;	# MGTRXN1_112
#NET "sfp_tx_p[3]"			   	   	LOC = AM1			;	# MGTTXP2_112
#NET "sfp_tx_n[3]"			   	   	LOC = AM2			;	# MGTTXN2_112
#NET "sfp_rx_p[3]"			   	   	LOC = AL3			;	# MGTRXP2_112
#NET "sfp_rx_n[3]"			   	   	LOC = AL4			;	# MGTRXN2_112
#NET "sfp_tx_p[4]"							LOC = AK1			;	# MGTTXP3_112
#NET "sfp_tx_n[4]"							LOC = AK2			;	# MGTTXN3_112
#NET "sfp_rx_p[4]"			   	   	LOC = AJ3			;	# MGTRXP3_112
#NET "sfp_rx_n[4]"			   	   	LOC = AJ4			;	# MGTRXN3_112
## SFP STATUS:
# IO_L14N_VREF_22
NET "SFP_MOD_ABS[1]" LOC = AD19;
# IO_L12N_VRP_22
NET "SFP_MOD_ABS[2]" LOC = AH20;
# IO_L10N_MRCC_22
NET "SFP_MOD_ABS[3]" LOC = AL19;
# IO_L15N_22
NET "SFP_MOD_ABS[4]" LOC = AL23;
# IO_L14P_22
NET "SFP_RXLOS[1]" LOC = AC19;
# IO_L11P_SRCC_22
NET "SFP_RXLOS[2]" LOC = AF20;
# IO_L12P_VRN_22
NET "SFP_RXLOS[3]" LOC = AJ20;
# IO_L13P_22
NET "SFP_RXLOS[4]" LOC = AM21;
# IO_L11N_SRCC_22
NET "SFP_TXFAULT[1]" LOC = AF21;
# IO_L10P_MRCC_22
NET "SFP_TXFAULT[2]" LOC = AK19;
# IO_L13N_22
NET "SFP_TXFAULT[3]" LOC = AL21;
# IO_L15P_22
NET "SFP_TXFAULT[4]" LOC = AM23;

###############################################################################################################################################
####                  #########################################################################################################################
####  TIMING CLOSURE  #########################################################################################################################
####                  #########################################################################################################################
###############################################################################################################################################
 
######################
## REFERENCE CLOCKs ##
######################

## FABRIC CLOCK (40MHz):
NET "XPOINT1_CLK1_P" TNM_NET = "xpoint1_clk1_p";
NET "XPOINT1_CLK1_N" TNM_NET = "xpoint1_clk1_n";
TIMESPEC TS_xpoint1_clk1_p = PERIOD "xpoint1_clk1_p" 25 ns HIGH 50 %;
TIMESPEC TS_xpoint1_clk1_n = PERIOD "xpoint1_clk1_n" TS_xpoint1_clk1_p  PHASE 12.5 ns HIGH 50 %;
                        
## GTX REFERENCE CLOCK:                      
NET "CDCE_OUT0_P" TNM_NET = "cdce_out0_p";
NET "CDCE_OUT0_N" TNM_NET = "cdce_out0_n";
TIMESPEC TS_cdce_out0_p = PERIOD "cdce_out0_p" 4.16667 ns HIGH 50 %;
TIMESPEC TS_cdce_out0_n = PERIOD "cdce_out0_n" TS_cdce_out0_p  PHASE 2.08333 ns HIGH 50 %;
                  
## GTX DERIVED CLOCKS:                 
NET "gbt_link_sfp/gtx_txoutclk" TNM_NET = "gbt_link_sfp/gtx_txoutclk";
TIMESPEC TS_gbt_link_sfp_gtx_txoutclk = PERIOD "gbt_link_sfp/gtx_txoutclk" TS_cdce_out0_p  HIGH 50 %;

NET "gbt_link_sfp/numLinks_gen[1].gtx/gtx0_rxrecclk_i" TNM_NET = "gbt_link_sfp/numLinks_gen[1].gtx/gtx0_rxrecclk_i";
TIMESPEC TS_gbt_link_sfp_numLinks_gen_1_gtx_gtx0_rxrecclk_i = PERIOD "gbt_link_sfp/numLinks_gen[1].gtx/gtx0_rxrecclk_i" 4.16667 ns HIGH 50 %;

###############################################################################################################################################
###############################################################################################################################################
###############################################################################################################################################

